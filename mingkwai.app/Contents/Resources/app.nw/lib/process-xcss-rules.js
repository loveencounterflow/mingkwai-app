// Generated by CoffeeScript 1.9.0
(function() {
  var CND, badge, debug, handler_by_properties, help, info, rpr, warn, xcss_rules;

  CND = require('cnd');

  rpr = CND.rpr;

  badge = 'MKTS/mingkwai-styles-fix';

  warn = CND.get_logger('warn', badge);

  help = CND.get_logger('help', badge);

  debug = CND.get_logger('debug', badge);

  info = CND.get_logger('info', badge);


  /* TAINT selectors not properly ordered */

  xcss_rules = require('./xcss-rules');

  handler_by_properties = {
    '-mkts-draggable': function(rule) {
      var media, property, selector, selectors, targets, value, _i, _len, _results;
      media = rule.media, selectors = rule.selectors, property = rule.property, value = rule.value;
      if (value !== 'xy') {
        throw new Error("unknown value for xCSS property " + property + ": " + value);
      }
      _results = [];
      for (_i = 0, _len = selectors.length; _i < _len; _i++) {
        selector = selectors[_i];
        targets = $(selector);
        targets.draggable();
        _results.push(help("found " + targets.length + " targets for `" + selector + " { " + property + ": " + value + "; }"));
      }
      return _results;
    },
    '-mkts-columns': function(rule) {
      var media, property, selectors, value;
      media = rule.media, selectors = rule.selectors, property = rule.property, value = rule.value;
      if (value !== 'all' && value !== '1') {
        throw new Error("unknown value for xCSS property " + property + ": " + value);
      }
    },
    '-mkts-foobar': function(rule) {
      var property, selectors, value;
      selectors = rule.selectors, property = rule.property, value = rule.value;
      return debug('Â©uhbsC', rule);
    }
  };

  ($('document')).ready((function(_this) {
    return function() {
      var handler, property, rule, _i, _len, _ref, _results;
      _ref = xcss_rules['rules'];
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        rule = _ref[_i];
        property = rule.property;
        if ((handler = handler_by_properties[property]) != null) {
          _results.push(handler(rule));
        } else {
          _results.push(warn("no handler for xCSS property " + (rpr(property)) + "; skipping"));
        }
      }
      return _results;
    };
  })(this));

}).call(this);
