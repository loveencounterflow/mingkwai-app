(function() {
  var APPLESCRIPT, CND, MKTS, alert, app, badge, debug, echo, help, info, log, rpr, urge, warn, whisper, ƒ;

  CND = require('cnd');

  rpr = CND.rpr.bind(CND);

  badge = '眀快排字机/MKTS';

  log = CND.get_logger('plain', badge);

  info = CND.get_logger('info', badge);

  alert = CND.get_logger('alert', badge);

  debug = CND.get_logger('debug', badge);

  warn = CND.get_logger('warn', badge);

  urge = CND.get_logger('urge', badge);

  whisper = CND.get_logger('whisper', badge);

  help = CND.get_logger('help', badge);

  echo = CND.echo.bind(CND);


  /* https://github.com/TooTallNate/node-applescript */

  APPLESCRIPT = require('applescript');

  app = null;

  MKTS = this;

  ƒ = function(x, precision) {
    if (precision == null) {
      precision = 2;
    }
    return x.toFixed(precision);
  };

  module.exports = function(_app) {
    app = _app;
    return MKTS;
  };

  this.ZOOM = {};

  this.ZOOM.by = (function(_this) {
    return function(factor) {
      var zoom_0, zoom_1;
      zoom_0 = app['zoom'];
      zoom_1 = zoom_0 * factor;
      app['zoom'] = zoom_1;
      app['zoomer'].css('transform-origin', "top left");
      app['zoomer'].transition({
        scale: zoom_1
      }, 100, 'linear');
      return echo("zoomed to [ " + (ƒ(zoom_1)) + ", ]");
    };
  })(this);

  this.ZOOM.to = (function(_this) {
    return function(zoom_1) {
      var zoom_0;
      zoom_0 = app['zoom'];
      app['zoom'] = zoom_1;
      app['zoomer'].transition({
        scale: zoom_1
      }, 100, 'linear');
      whisper('zoom_0:  ', ƒ(zoom_0));
      whisper('zoom_1:  ', ƒ(zoom_1));
      return help("zoomed to [ " + (ƒ(zoom_1)) + ", ]");
    };
  })(this);

  this.GAUGE = {};

  this.GAUGE["new"] = (function(_this) {
    return function(app) {
      var R;
      R = {
        'd.mm': 1000,
        'd.npx': null,
        'd.rpx': null,
        'rho': null,
        'rpx-per-mm': null,
        'npx-per-mm': null
      };
      return R;
    };
  })(this);

  this.GAUGE.set_ratios = (function(_this) {
    return function(app) {

      /* Since the gauge is 1m = 1000mm wide, a thousandth of its width in pixels equals pixels per
      millimeter:
       */
      var d_mm, d_npx, d_rpx, gauge, gauge_jq, jQuery, window;
      jQuery = app.jQuery, window = app.window;
      gauge_jq = jQuery("<div id='meter-gauge' style='position:absolute;width:1000mm;'></div>");
      (jQuery('body')).append(gauge_jq);
      gauge = app['gauge'];
      d_mm = gauge['d.mm'];
      gauge['d.npx'] = d_npx = parseInt(gauge_jq.css('width'), 10);
      gauge['d.rpx'] = d_rpx = window.BD.get_rectangle(gauge_jq, 'width');
      gauge['rho'] = d_npx / d_rpx;
      gauge['rpx-per-mm'] = d_rpx / d_mm;
      gauge['npx-per-mm'] = d_npx / d_mm;
      gauge_jq.detach();
      return null;
    };
  })(this);

  this.GAUGE._get = (function(_this) {
    return function(app) {
      var R;
      if ((R = app['gauge'])['rpx-per-mm'] == null) {
        _this.GAUGE.set_ratios(app);
      }
      return R;
    };
  })(this);

  this.GAUGE.mm_from_rpx = (function(_this) {
    return function(app, d_rpx) {
      return d_rpx / (_this.GAUGE._get(app))['rpx-per-mm'];
    };
  })(this);

  this.GAUGE.mm_from_npx = (function(_this) {
    return function(app, d_npx) {
      return d_npx / (_this.GAUGE._get(app))['npx-per-mm'];
    };
  })(this);

  this.GAUGE.rpx_from_mm = (function(_this) {
    return function(app, d_mm) {
      return d_mm * (_this.GAUGE._get(app))['rpx-per-mm'];
    };
  })(this);

  this.GAUGE.npx_from_mm = (function(_this) {
    return function(app, d_mm) {
      return d_mm * (_this.GAUGE._get(app))['npx-per-mm'];
    };
  })(this);

  this.CARET = {};

  this.CARET.as_url = (function(_this) {
    return function(app, matter) {
      var caret, column_nr, file_locator, page_nr, y_px;
      file_locator = 'matter';
      caret = matter.caret;
      page_nr = caret['page-nr'];
      column_nr = caret['column-nr'];
      y_px = caret['y.px'];
      return "mkts://" + file_locator + "#page:" + page_nr + "/column:" + column_nr + "/y:" + y_px + "px";
    };
  })(this);

  this.VIEW = {};

  this.VIEW.toggle_galley = (function(_this) {
    return function(handler) {
      if (handler == null) {
        handler = null;
      }
      debug('©0fZv5', app['view']);
      if (app['view'] === 'pages') {
        return _this.VIEW.show_galley(handler);
      } else {
        return _this.VIEW.show_pages(handler);
      }
    };
  })(this);

  this.VIEW.show_galley = (function(_this) {
    return function(handler) {
      var jQuery, window;
      if (handler == null) {
        handler = null;
      }
      window = app['window'];
      jQuery = app['jQuery'];
      (jQuery('artboard.galley')).css('z-index', +1);
      (jQuery('artboard.pages')).css('z-index', -1);
      app['view'] = 'galley';
      if (handler != null) {
        return handler(null);
      }
    };
  })(this);

  this.VIEW.show_pages = (function(_this) {
    return function(handler) {
      var jQuery, window;
      if (handler == null) {
        handler = null;
      }
      window = app['window'];
      jQuery = app['jQuery'];
      (jQuery('artboard.pages')).css('z-index', +1);
      (jQuery('artboard.galley')).css('z-index', -1);
      app['view'] = 'pages';
      if (handler != null) {
        return handler(null);
      }
    };
  })(this);

  this.VIEW.test_page = (function(_this) {
    return function() {
      app['window'].location.href = app['window'].location.href.replace(/index\.html$/, 'test.html');
      return null;
    };
  })(this);

  MKTS.open_print_dialog = function(me) {
    return window.print();
  };

  MKTS.open_save_dialog = function(me) {
    throw new Error("not implemented");
  };

  MKTS.save = function(me) {
    throw new Error("not implemented");
  };

  MKTS.open_print_preview = function(me) {

    /* NB the solution adopted here to get a quick shortcut to open a print preview of the current document
    using AppleScript sending keys etc. is deeply flawed. Not only must tabbing be enabled in the
    Accessibility Settings of the target machine, it would also appear that the outcome of such actions as
    `click menu button "PDF" of window "Print"` are dependent on the OS language settings, and maybe even
    OS version. Last but not least, it can experimentally be made plausible that it is the `repeat` loops
    of the *previous* (not the *current*) script execution that really trigger the actions, which is
    deeply unsatisfying and feels plain wrong. Furthermore, haphazard user actions such as hitting a key
    or clicking during script execution may probably meddle with the intended flow of events. In short, the
    solution as implemented is nothing more than a crude stop-gap.
     */
    var script;
    help("MKTS.open_print_preview");
    MKTS.open_print_dialog();

    /* thx to http://apple.stackexchange.com/a/36947/59895, http://www.jaimerios.com/?p=171 */

    /* TAINT Note the delay clauses. Since it is the previous execution of the script that takes the intended
    actions, each script invocation will run indefinitely, even after the app process itself has been
    terminated. Programming a Tight Loop in AppleScript will cause a noticeable CPU load which is reduced
    to the permille level by the timeout. As stated above, this is nothing more than a stop-gap solution.
     */
    script = "tell application \"System Events\"\n  tell process \"mingkwai\"\n    keystroke \"p\" using {shift down, command down}\n    repeat until exists window \"Print\"\n      delay 0.1\n    end repeat\n    click menu button \"PDF\" of window \"Print\"\n    repeat until exists menu item \"Open PDF in Preview\" of menu 1 of menu button \"PDF\" of window \"Print\"\n      delay 0.1\n    end repeat\n    click menu item \"Open PDF in Preview\" of menu 1 of menu button \"PDF\" of window \"Print\"\n  end tell\nend tell";
    return APPLESCRIPT.execString(script, (function(_this) {
      return function(error) {
        if (error != null) {
          throw error;
        }
        return help("MKTS.open_print_preview: ok");
      };
    })(this));
  };

  this.ACTIONS = {};

  this.ACTIONS['demo'];

  this.ACTIONS['demo-1'];

  this.ACTIONS['print'];

  this.ACTIONS['print-preview'];

  this.ACTIONS['open'];

  this.ACTIONS['save'];

  this.ACTIONS['save-as'];

  this.ACTIONS['view-test'] = (function(_this) {
    return function() {
      return window.location.href = './test.html';
    };
  })(this);

  this.ACTIONS['tool-mode-hand'] = (function(_this) {
    return function() {
      return _this.push_tool_mode('hand');
    };
  })(this);

}).call(this);

//# sourceMappingURL=data:application/json;base64,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Q0FBQSxJQUFBOztFQW9CcEIsSUFBQyxDQUFBLEtBQUssQ0FBQyxJQUFQLEdBQWMsQ0FBQSxTQUFBLEtBQUE7V0FBQSxTQUFFLEdBQUY7QUFDWixVQUFBO01BQUEsSUFBaUMsd0NBQWpDO1FBQUUsS0FBQyxDQUFBLEtBQUssQ0FBQyxVQUFQLENBQWtCLEdBQWxCLEVBQUY7O0FBQ0EsYUFBTztJQUZLO0VBQUEsQ0FBQSxDQUFBLENBQUEsSUFBQTs7RUFLZCxJQUFDLENBQUEsS0FBSyxDQUFDLFdBQVAsR0FBcUIsQ0FBQSxTQUFBLEtBQUE7V0FBQSxTQUFFLEdBQUYsRUFBTyxLQUFQO2FBQWtCLEtBQUEsR0FBUSxDQUFFLEtBQUMsQ0FBQSxLQUFLLENBQUMsSUFBUCxDQUFZLEdBQVosQ0FBRixDQUFxQixDQUFBLFlBQUE7SUFBL0M7RUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBOztFQUNyQixJQUFDLENBQUEsS0FBSyxDQUFDLFdBQVAsR0FBcUIsQ0FBQSxTQUFBLEtBQUE7V0FBQSxTQUFFLEdBQUYsRUFBTyxLQUFQO2FBQWtCLEtBQUEsR0FBUSxDQUFFLEtBQUMsQ0FBQSxLQUFLLENBQUMsSUFBUCxDQUFZLEdBQVosQ0FBRixDQUFxQixDQUFBLFlBQUE7SUFBL0M7RUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBOztFQUNyQixJQUFDLENBQUEsS0FBSyxDQUFDLFdBQVAsR0FBcUIsQ0FBQSxTQUFBLEtBQUE7V0FBQSxTQUFFLEdBQUYsRUFBTyxJQUFQO2FBQWtCLElBQUEsR0FBUSxDQUFFLEtBQUMsQ0FBQSxLQUFLLENBQUMsSUFBUCxDQUFZLEdBQVosQ0FBRixDQUFxQixDQUFBLFlBQUE7SUFBL0M7RUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBOztFQUNyQixJQUFDLENBQUEsS0FBSyxDQUFDLFdBQVAsR0FBcUIsQ0FBQSxTQUFBLEtBQUE7V0FBQSxTQUFFLEdBQUYsRUFBTyxJQUFQO2FBQWtCLElBQUEsR0FBUSxDQUFFLEtBQUMsQ0FBQSxLQUFLLENBQUMsSUFBUCxDQUFZLEdBQVosQ0FBRixDQUFxQixDQUFB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QURDO0VBQUEsQ0FBQSxDQUFBLENBQUEsSUFBQTs7RUFJMUIsSUFBQyxDQUFBLE9BQVMsQ0FBQSxnQkFBQSxDQUFWLEdBQStCLENBQUEsU0FBQSxLQUFBO1dBQUEsU0FBQTthQUM3QixLQUFDLENBQUEsY0FBRCxDQUFnQixNQUFoQjtJQUQ2QjtFQUFBLENBQUEsQ0FBQSxDQUFBLElBQUE7QUF2Yi9CIiwiZmlsZSI6Ik1LVFMuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJcblxuXG5cblxuIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4jIG5qc19wYXRoICAgICAgICAgICAgICAgICAgPSByZXF1aXJlICdwYXRoJ1xuIyBuanNfZnMgICAgICAgICAgICAgICAgICAgID0gcmVxdWlyZSAnZnMnXG4jLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbkNORCAgICAgICAgICAgICAgICAgICAgICAgPSByZXF1aXJlICdjbmQnXG5ycHIgICAgICAgICAgICAgICAgICAgICAgID0gQ05ELnJwci5iaW5kIENORFxuYmFkZ2UgICAgICAgICAgICAgICAgICAgICA9ICfnnIDlv6vmjpLlrZfmnLovTUtUUydcbmxvZyAgICAgICAgICAgICAgICAgICAgICAgPSBDTkQuZ2V0X2xvZ2dlciAncGxhaW4nLCAgIGJhZGdlXG5pbmZvICAgICAgICAgICAgICAgICAgICAgID0gQ05ELmdldF9sb2dnZXIgJ2luZm8nLCAgICBiYWRnZVxuYWxlcnQgICAgICAgICAgICAgICAgICAgICA9IENORC5nZXRfbG9nZ2VyICdhbGVydCcsICAgYmFkZ2VcbmRlYnVnICAgICAgICAgICAgICAgICAgICAgPSBDTkQuZ2V0X2xvZ2dlciAnZGVidWcnLCAgIGJhZGdlXG53YXJuICAgICAgICAgICAgICAgICAgICAgID0gQ05ELmdldF9sb2dnZXIgJ3dhcm4nLCAgICBiYWRnZVxudXJnZSAgICAgICAgICAgICAgICAgICAgICA9IENORC5nZXRfbG9nZ2VyICd1cmdlJywgICAgYmFkZ2VcbndoaXNwZXIgICAgICAgICAgICAgICAgICAgPSBDTkQuZ2V0X2xvZ2dlciAnd2hpc3BlcicsIGJhZGdlXG5oZWxwICAgICAgICAgICAgICAgICAgICAgID0gQ05ELmdldF9sb2dnZXIgJ2hlbHAnLCAgICBiYWRnZVxuZWNobyAgICAgICAgICAgICAgICAgICAgICA9IENORC5lY2hvLmJpbmQgQ05EXG4jICMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuIyBOVyAgICAgICAgICAgICAgICAgICAgICAgID0gcmVxdWlyZSAnbncuZ3VpJ1xuIyB3aW4gICAgICAgICAgICAgICAgICAgICAgID0gTlcuV2luZG93LmdldCgpXG4jICMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuIyBzdXNwZW5kICAgICAgICAgICAgICAgICAgID0gcmVxdWlyZSAnY29mZmVlbm9kZS1zdXNwZW5kJ1xuIyBzdGVwICAgICAgICAgICAgICAgICAgICAgID0gc3VzcGVuZC5zdGVwXG4jIGltbWVkaWF0ZWx5ICAgICAgICAgICAgICAgPSBzdXNwZW5kLmltbWVkaWF0ZWx5XG4jIGFmdGVyICAgICAgICAgICAgICAgICAgICAgPSBzdXNwZW5kLmFmdGVyXG4jIHNsZWVwICAgICAgICAgICAgICAgICAgICAgPSBzdXNwZW5kLnNsZWVwXG4jLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiMjIyBodHRwczovL2dpdGh1Yi5jb20vVG9vVGFsbE5hdGUvbm9kZS1hcHBsZXNjcmlwdCAjIyNcbkFQUExFU0NSSVBUICAgICAgICAgICAgICAgPSByZXF1aXJlICdhcHBsZXNjcmlwdCdcbiMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuYXBwICAgICAgICAgICAgICAgICAgICAgICA9IG51bGxcbk1LVFMgICAgICAgICAgICAgICAgICAgICAgPSBAXG7GkiAgICAgICAgICAgICAgICAgICAgICAgICA9ICggeCwgcHJlY2lzaW9uID0gMiApIC0+IHgudG9GaXhlZCBwcmVjaXNpb25cblxuIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jIElOSVRJQUxJWkVSXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbm1vZHVsZS5leHBvcnRzID0gKCBfYXBwICkgLT5cbiAgYXBwID0gX2FwcFxuICByZXR1cm4gTUtUU1xuXG5cbiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuIyBaT09NXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBaT09NID0ge31cblxuIyAjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiMgQFpPT00ucmV2ZXJ0X3pvb20gPSAoIG1lICkgLT5cbiMgICAjIyMgVEFJTlQgY29kZSBkdXBsaWNhdGlvbiAjIyNcbiMgICByZXR1cm4gdW5sZXNzICggbGFzdF96b29tX2xldmVsID0gbWVbICclbWVtbycgXVsgJ2xhc3Qtem9vbS1sZXZlbCcgXSApP1xuIyAgIHJldHVybiBAem9vbV90byBtZSwgbGFzdF96b29tX2xldmVsXG5cbiMgIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4jIEBaT09NLnpvb21fcGVyY2VudF9mcm9tX2xldmVsID0gKCBtZSwgbGV2ZWwgPSBudWxsICkgLT5cbiMgICBsZXZlbCA/PSB3aW4uem9vbUxldmVsXG4jICAgcmV0dXJuICggbGV2ZWwgLSBtZVsgJ2Jhc2Utem9vbS1sZXZlbCcgXSApICogMS4yICogMTAwXG5cbiAgIyBtZVsgJyVtZW1vJyBdWyAnbGFzdC16b29tLWxldmVsJyBdICA9IHdpbi56b29tTGV2ZWxcbiAgIyB3aW4uem9vbUxldmVsICAgICAgICAgICAgICAgICAgICAgICA9IGxldmVsID8gbWVbICdiYXNlLXpvb20tbGV2ZWwnIF1cbiAgIyAjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICMgcmV0dXJuIHdpbi56b29tTGV2ZWxcblxuIyAjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiMgQFpPT00uem9vbSA9ICggbWUsIGRlbHRhICkgLT5cbiMgICBtZVsgJyVtZW1vJyBdWyAnbGFzdC16b29tLWxldmVsJyBdICA9IHdpbi56b29tTGV2ZWxcbiMgICAjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4jICAgaWYgZGVsdGE/XG4jICAgICBpZiAoIGRlbHRhID4gMCBhbmQgd2luLnpvb21MZXZlbCA8PSA4LjggKSBvciAoIGRlbHRhIDwgMCBhbmQgd2luLnpvb21MZXZlbCA+PSAtNy41IClcbiMgICAgICAgd2luLnpvb21MZXZlbCArPSBkZWx0YVxuIyAgICMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiMgICBlbHNlXG4jICAgICB3aW4uem9vbUxldmVsID0gbWVbICdiYXNlLXpvb20tbGV2ZWwnIF1cbiMgICAjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4jICAgaGVscCBcInpvb21lZCB0byAje8aSIHdpbi56b29tTGV2ZWx9ICgje8aSICggQHpvb21fcGVyY2VudF9mcm9tX2xldmVsIG1lICksIDB9JSlcIlxuIyAgIHJldHVybiB3aW4uem9vbUxldmVsXG5cbiMgIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4jIEBaT09NLl9nZXRfem9vbV9sZXZlbHMgPSA9PlxuIyAgICMjIyBUQUlOVCBtb3JlIGVmZmljaWVudCB0byBjYWNoZSB2YWx1ZSBhcyBgYXBwWyAnem9vbScgXWAgb3IgYGFwcFsgJ3NjYWxlJyBdYCAjIyNcbiMgICBSICAgICAgICAgICA9IFtdXG4jICAgbWF0Y2hlciAgICAgPSAvWy0uZTAtOV0rL2dcbiMgICBpZHggICAgICAgICA9IC0xXG4jICAgbWF0cml4X3R4dCAgPSBhcHBbICd6b29tZXInIF0uY3NzICd0cmFuc2Zvcm0nXG4jICAgd2hpbGUgKCBtYXRjaCA9IG1hdGNoZXIuZXhlYyBtYXRyaXhfdHh0ICk/XG4jICAgICBpZHggKz0gMVxuIyAgICAgUi5wdXNoIHBhcnNlRmxvYXQgbWF0Y2hbIDAgXSBpZiBpZHggaW4gWyAwLCAzLCBdXG4jICAgcmV0dXJuIFJcblxuIyAjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiMgQFpPT00udG9fZGVsdGEgPSAoIGRlbHRhICkgPT5cbiMgICBbIHNjYWxlX3gsIHNjYWxlX3ksIF0gPSBAWk9PTS5fZ2V0X3pvb21fbGV2ZWxzKClcbiMgICBzY2FsZV94ICAgICAgICAgICAgICArPSBkZWx0YVxuIyAgIHNjYWxlX3kgICAgICAgICAgICAgICs9IGRlbHRhXG4jICAgYXBwWyAnem9vbWVyJyBdLmNzcyAndHJhbnNmb3JtJywgXCJtYXRyaXgoI3tzY2FsZV94fSwgMCwgMCwgI3tzY2FsZV95fSwgMCwgMClcIlxuIyAgIGhlbHAgXCJ6b29tZWQgdG8gWyAje8aSIHNjYWxlX3h9LCAje8aSIHNjYWxlX3l9LCBdXCJcblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AWk9PTS5ieSA9ICggZmFjdG9yICkgPT5cbiAgIyB3aW5kb3cgICAgICAgICAgICAgICAgICA9IGFwcFsgJ3dpbmRvdycgXVxuICAjIHEgICAgICAgICAgICAgICAgICAgICAgID0gYXBwWyAnalF1ZXJ5JyBdXG4gICMgZG9jdW1lbnQgICAgICAgICAgICAgICAgPSB3aW5kb3cuZG9jdW1lbnRcbiAgIyB3aWR0aCAgICAgICAgICAgICAgICAgICA9ICggcSB3aW5kb3cgKS53aWR0aCgpXG4gICMgaGVpZ2h0ICAgICAgICAgICAgICAgICAgPSAoIHEgd2luZG93ICkuaGVpZ2h0KClcbiAgIyBsZWZ0ICAgICAgICAgICAgICAgICAgICA9ICggcSBkb2N1bWVudCApLnNjcm9sbExlZnQoKVxuICAjIHRvcCAgICAgICAgICAgICAgICAgICAgID0gKCBxIGRvY3VtZW50ICkuc2Nyb2xsVG9wKClcbiAgIyBwYWdlX3ggICAgICAgICAgICAgICAgICA9IGxlZnQgKyB3aWR0aCAgLyAyXG4gICMgcGFnZV95ICAgICAgICAgICAgICAgICAgPSAgdG9wICsgaGVpZ2h0IC8gMlxuICAjIHptciAgICAgICAgICAgICAgICAgICAgID0gd2luZG93LmNvbnZlcnRQb2ludEZyb21QYWdlVG9Ob2RlICggYXBwWyAnem9vbWVyJyBdLmdldCAwICksIHBhZ2VfeCwgcGFnZV95XG4gIHpvb21fMCAgICAgICAgICAgICAgICAgID0gYXBwWyAnem9vbScgXVxuICB6b29tXzEgICAgICAgICAgICAgICAgICA9IHpvb21fMCAqIGZhY3RvclxuICBhcHBbICd6b29tJyBdICAgICAgICAgICA9IHpvb21fMVxuICAjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICMgKCBxICcjdGcnICkuY3NzICdsZWZ0Jywgem1yWyAneCcgXSAtIDVcbiAgIyAoIHEgJyN0ZycgKS5jc3MgJ3RvcCcsICB6bXJbICd5JyBdIC0gNVxuICAjIG1hdHJpeCAgPSBhcHBbICd6b29tZXInIF0uY3NzICd0cmFuc2Zvcm0nXG4gICMgYXBwWyAnem9vbWVyJyBdLmNzcyAndHJhbnNmb3JtJywgICAgICAgIFwibWF0cml4KDEsIDAsIDAsIDEsIDAsIDApXCJcbiAgIyBhcHBbICd6b29tZXInIF0uY3NzICd0cmFuc2Zvcm0tb3JpZ2luJywgXCIje3ptclsgJ3gnIF19cHggI3t6bXJbICd5JyBdfXB4XCJcbiAgIyBhcHBbICd6b29tZXInIF0uY3NzICd0cmFuc2Zvcm0nLCBtYXRyaXhcbiAgYXBwWyAnem9vbWVyJyBdLmNzcyAndHJhbnNmb3JtLW9yaWdpbicsIFwidG9wIGxlZnRcIlxuICBhcHBbICd6b29tZXInIF0udHJhbnNpdGlvbiBzY2FsZTogem9vbV8xLCAxMDAsICdsaW5lYXInXG4gICMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgIyBlY2hvICdmYWN0b3I6ICAnLCDGkiBmYWN0b3JcbiAgIyBlY2hvICd6b29tXzA6ICAnLCDGkiB6b29tXzBcbiAgIyBlY2hvICd6b29tXzE6ICAnLCDGkiB6b29tXzFcbiAgIyBlY2hvICd3aWR0aDogICAnLCDGkiB3aWR0aFxuICAjIGVjaG8gJ2hlaWdodDogICcsIMaSIGhlaWdodFxuICAjIGVjaG8gJ2xlZnQ6ICAgICcsIMaSIGxlZnRcbiAgIyBlY2hvICd0b3A6ICAgICAnLCDGkiB0b3BcbiAgIyBlY2hvICdwYWdlX3g6ICAnLCDGkiBwYWdlX3hcbiAgIyBlY2hvICdwYWdlX3k6ICAnLCDGkiBwYWdlX3lcbiAgZWNobyBcInpvb21lZCB0byBbICN7xpIgem9vbV8xfSwgXVwiXG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQFpPT00udG8gPSAoIHpvb21fMSApID0+XG4gIHpvb21fMCAgICAgICAgICAgICAgICAgID0gYXBwWyAnem9vbScgXVxuICBhcHBbICd6b29tJyBdICAgICAgICAgICA9IHpvb21fMVxuICBhcHBbICd6b29tZXInIF0udHJhbnNpdGlvbiBzY2FsZTogem9vbV8xLCAxMDAsICdsaW5lYXInXG4gIHdoaXNwZXIgJ3pvb21fMDogICcsIMaSIHpvb21fMFxuICB3aGlzcGVyICd6b29tXzE6ICAnLCDGkiB6b29tXzFcbiAgaGVscCBcInpvb21lZCB0byBbICN7xpIgem9vbV8xfSwgXVwiXG5cbiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuIyBHQVVHRVxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AR0FVR0UgPSB7fVxuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBHQVVHRS5uZXcgPSAoIGFwcCApID0+XG4gIFIgPVxuICAgICdkLm1tJzogICAgICAgICAgICAgICAgIDEwMDBcbiAgICAnZC5ucHgnOiAgICAgICAgICAgICAgICBudWxsXG4gICAgJ2QucnB4JzogICAgICAgICAgICAgICAgbnVsbFxuICAgICdyaG8nOiAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAncnB4LXBlci1tbSc6ICAgICAgICAgICBudWxsXG4gICAgJ25weC1wZXItbW0nOiAgICAgICAgICAgbnVsbFxuICByZXR1cm4gUlxuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBHQVVHRS5zZXRfcmF0aW9zID0gKCBhcHAgKSA9PlxuICAjIyMgU2luY2UgdGhlIGdhdWdlIGlzIDFtID0gMTAwMG1tIHdpZGUsIGEgdGhvdXNhbmR0aCBvZiBpdHMgd2lkdGggaW4gcGl4ZWxzIGVxdWFscyBwaXhlbHMgcGVyXG4gIG1pbGxpbWV0ZXI6ICMjI1xuICB7IGpRdWVyeVxuICAgIHdpbmRvdyB9ICA9IGFwcFxuICBnYXVnZV9qcSAgICA9IGpRdWVyeSBcIjxkaXYgaWQ9J21ldGVyLWdhdWdlJyBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwMG1tOyc+PC9kaXY+XCJcbiAgKCBqUXVlcnkgJ2JvZHknICkuYXBwZW5kIGdhdWdlX2pxXG4gICMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgZ2F1Z2UgICAgICAgICAgICAgICAgICAgICAgICAgPSBhcHBbICdnYXVnZScgXVxuICBkX21tICAgICAgICAgICAgICAgICAgICAgICAgICA9IGdhdWdlWyAnZC5tbScgXVxuICBnYXVnZVsgJ2QubnB4JyAgICAgIF0gPSBkX25weCA9IHBhcnNlSW50ICggZ2F1Z2VfanEuY3NzICd3aWR0aCcgKSwgMTBcbiAgZ2F1Z2VbICdkLnJweCcgICAgICBdID0gZF9ycHggPSB3aW5kb3cuQkQuZ2V0X3JlY3RhbmdsZSBnYXVnZV9qcSwgJ3dpZHRoJ1xuICBnYXVnZVsgJ3JobycgICAgICAgIF0gPSAgICAgICAgIGRfbnB4IC8gZF9ycHhcbiAgZ2F1Z2VbICdycHgtcGVyLW1tJyBdID0gICAgICAgICBkX3JweCAvIGRfbW1cbiAgZ2F1Z2VbICducHgtcGVyLW1tJyBdID0gICAgICAgICBkX25weCAvIGRfbW1cbiAgIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICBnYXVnZV9qcS5kZXRhY2goKVxuICByZXR1cm4gbnVsbFxuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBHQVVHRS5fZ2V0ID0gKCBhcHAgKSA9PlxuICAoIEBHQVVHRS5zZXRfcmF0aW9zIGFwcCApIHVubGVzcyAoICggUiA9IGFwcFsgJ2dhdWdlJyBdIClbICdycHgtcGVyLW1tJyBdICk/XG4gIHJldHVybiBSXG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQEdBVUdFLm1tX2Zyb21fcnB4ID0gKCBhcHAsIGRfcnB4ICkgPT4gZF9ycHggLyAoIEBHQVVHRS5fZ2V0IGFwcCApWyAncnB4LXBlci1tbScgXVxuQEdBVUdFLm1tX2Zyb21fbnB4ID0gKCBhcHAsIGRfbnB4ICkgPT4gZF9ucHggLyAoIEBHQVVHRS5fZ2V0IGFwcCApWyAnbnB4LXBlci1tbScgXVxuQEdBVUdFLnJweF9mcm9tX21tID0gKCBhcHAsIGRfbW0gICkgPT4gZF9tbSAgKiAoIEBHQVVHRS5fZ2V0IGFwcCApWyAncnB4LXBlci1tbScgXVxuQEdBVUdFLm5weF9mcm9tX21tID0gKCBhcHAsIGRfbW0gICkgPT4gZF9tbSAgKiAoIEBHQVVHRS5fZ2V0IGFwcCApWyAnbnB4LXBlci1tbScgXVxuXG5cbiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuIyBDQVJFVFxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AQ0FSRVQgPSB7fVxuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBDQVJFVC5hc191cmwgPSAoIGFwcCwgbWF0dGVyICkgPT5cbiAgZmlsZV9sb2NhdG9yICAgID0gJ21hdHRlcidcbiAgeyBjYXJldCB9ICAgICAgID0gbWF0dGVyXG4gIHBhZ2VfbnIgICAgICAgICA9IGNhcmV0WyAncGFnZS1ucicgICBdXG4gIGNvbHVtbl9uciAgICAgICA9IGNhcmV0WyAnY29sdW1uLW5yJyBdXG4gIHlfcHggICAgICAgICAgICA9IGNhcmV0WyAneS5weCcgICAgICBdXG4gIHJldHVybiBcIm1rdHM6Ly8je2ZpbGVfbG9jYXRvcn0jcGFnZToje3BhZ2VfbnJ9L2NvbHVtbjoje2NvbHVtbl9ucn0veToje3lfcHh9cHhcIlxuXG5cbiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuIyBWSUVXXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBWSUVXID0ge31cblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AVklFVy50b2dnbGVfZ2FsbGV5ID0gKCBoYW5kbGVyID0gbnVsbCApID0+XG4gIGRlYnVnICfCqTBmWnY1JywgYXBwWyAndmlldycgXVxuICBpZiBhcHBbICd2aWV3JyBdIGlzICdwYWdlcycgdGhlbiBAVklFVy5zaG93X2dhbGxleSBoYW5kbGVyIGVsc2UgQFZJRVcuc2hvd19wYWdlcyBoYW5kbGVyXG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQFZJRVcuc2hvd19nYWxsZXkgPSAoIGhhbmRsZXIgPSBudWxsICkgPT5cbiAgd2luZG93ICAgICAgICAgID0gYXBwWyAnd2luZG93JyBdXG4gIGpRdWVyeSAgICAgICAgICA9IGFwcFsgJ2pRdWVyeScgXVxuICAoIGpRdWVyeSAnYXJ0Ym9hcmQuZ2FsbGV5JyAgKS5jc3MgJ3otaW5kZXgnLCArMVxuICAoIGpRdWVyeSAnYXJ0Ym9hcmQucGFnZXMnICAgKS5jc3MgJ3otaW5kZXgnLCAtMVxuICBhcHBbICd2aWV3JyBdICAgPSAnZ2FsbGV5J1xuICBoYW5kbGVyIG51bGwgaWYgaGFuZGxlcj9cblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AVklFVy5zaG93X3BhZ2VzID0gKCBoYW5kbGVyID0gbnVsbCApID0+XG4gIHdpbmRvdyAgICAgICAgICA9IGFwcFsgJ3dpbmRvdycgXVxuICBqUXVlcnkgICAgICAgICAgPSBhcHBbICdqUXVlcnknIF1cbiAgKCBqUXVlcnkgJ2FydGJvYXJkLnBhZ2VzJyAgICkuY3NzICd6LWluZGV4JywgKzFcbiAgKCBqUXVlcnkgJ2FydGJvYXJkLmdhbGxleScgICkuY3NzICd6LWluZGV4JywgLTFcbiAgYXBwWyAndmlldycgXSAgID0gJ3BhZ2VzJ1xuICBoYW5kbGVyIG51bGwgaWYgaGFuZGxlcj9cblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AVklFVy50ZXN0X3BhZ2UgPSA9PlxuICBhcHBbICd3aW5kb3cnIF0ubG9jYXRpb24uaHJlZiA9IGFwcFsgJ3dpbmRvdycgXS5sb2NhdGlvbi5ocmVmLnJlcGxhY2UgL2luZGV4XFwuaHRtbCQvLCAndGVzdC5odG1sJ1xuICByZXR1cm4gbnVsbFxuXG5cbiMgIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4jIE1LVFMuX2RldGFjaF9hcnRib2FyZCA9ICggbWUgKSAtPlxuIyAgICMjIyBUQUlOVCBgI21rdHMtdG9wYCwgYCNta3RzLWJvdHRvbWAgbm90IGhvbm9yZWQ7IGFyZSB0aGV5IG5lZWRlZD8gIyMjXG4jICAgcmV0dXJuIGlmIG1lWyAndmlldy1tb2RlJyBdIGlzICdwcmludCdcbiMgICBib2R5ICAgICAgPSAkICdib2R5J1xuIyAgIGFydGJvYXJkICA9ICQgJ2FydGJvYXJkJ1xuIyAgIGNvbnRlbnRzICA9IGFydGJvYXJkLmNvbnRlbnRzKClcbiMgICBhcnRib2FyZC5kZXRhY2goKVxuIyAgIGJvZHkuYXBwZW5kIGNvbnRlbnRzXG4jICAgbWVbICclbWVtbycgXVsgJ3ZpZXctbW9kZScgXSA9IHsgY29udGVudHMsIGFydGJvYXJkLCBib2R5LCB9XG4jICAgcmV0dXJuIG51bGxcblxuIyAjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiMgTUtUUy5fcmVhdHRhY2hfYXJ0Ym9hcmQgPSAoIG1lICkgLT5cbiMgICByZXR1cm4gaWYgbWVbICd2aWV3LW1vZGUnIF0gaXMgJ2RldidcbiMgICB7IGNvbnRlbnRzLCBhcnRib2FyZCwgYm9keSwgfSA9IG1lWyAnJW1lbW8nIF1bICd2aWV3LW1vZGUnIF1cbiMgICBkZWxldGUgbWVbICclbWVtbycgXVsgJ3ZpZXctbW9kZScgXVxuIyAgIGNvbnRlbnRzLmRldGFjaCgpXG4jICAgYXJ0Ym9hcmQuYXBwZW5kIGNvbnRlbnRzXG4jICAgYm9keS5hcHBlbmQgYXJ0Ym9hcmRcbiMgICByZXR1cm4gbnVsbFxuXG4jICMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIyBNS1RTLnN3aXRjaF90b19wcmludF92aWV3ID0gKCBtZSApIC0+XG4jICAgaGVscCBcIk1LVFMuc3dpdGNoX3RvX3ByaW50X3ZpZXdcIlxuIyAgIHJldHVybiBpZiBtZVsgJ3ZpZXctbW9kZScgXSBpcyAncHJpbnQnXG4jICAgQF9kZXRhY2hfYXJ0Ym9hcmQgbWVcbiMgICBtZVsgJ3ZpZXctbW9kZScgXSA9ICdwcmludCdcbiMgICByZXR1cm4gbnVsbFxuXG4jICMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIyBNS1RTLnN3aXRjaF90b19kZXZfdmlldyA9ICggbWUgKSAtPlxuIyAgIGhlbHAgXCJNS1RTLnN3aXRjaF90b19kZXZfdmlld1wiXG4jICAgcmV0dXJuIGlmIG1lWyAndmlldy1tb2RlJyBdIGlzICdkZXYnXG4jICAgQF9yZWF0dGFjaF9hcnRib2FyZCBtZVxuIyAgIG1lWyAndmlldy1tb2RlJyBdID0gJ2RldidcbiMgICByZXR1cm4gbnVsbFxuXG4jICMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIyBNS1RTLnRvZ2dsZV92aWV3ID0gKCBtZSApIC0+XG4jICAgc3dpdGNoIHZpZXdfbW9kZSA9IG1lWyAndmlldy1tb2RlJyBdXG4jICAgICB3aGVuICdwcmludCcgIHRoZW4gQHN3aXRjaF90b19kZXZfdmlldyAgICBtZVxuIyAgICAgd2hlbiAnZGV2JyAgICB0aGVuIEBzd2l0Y2hfdG9fcHJpbnRfdmlldyAgbWVcbiMgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yIFwidW5rbm93biB2aWV3IG1vZGUgI3tycHIgdmlld19tb2RlfVwiXG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuTUtUUy5vcGVuX3ByaW50X2RpYWxvZyA9ICggbWUgKSAtPlxuICAjIEBzd2l0Y2hfdG9fcHJpbnRfdmlldyBtZVxuICB3aW5kb3cucHJpbnQoKVxuICAjIEBzd2l0Y2hfdG9fZGV2X3ZpZXcgbWVcblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5NS1RTLm9wZW5fc2F2ZV9kaWFsb2cgPSAoIG1lICkgLT4gdGhyb3cgbmV3IEVycm9yIFwibm90IGltcGxlbWVudGVkXCJcbk1LVFMuc2F2ZSA9ICggbWUgKSAtPiB0aHJvdyBuZXcgRXJyb3IgXCJub3QgaW1wbGVtZW50ZWRcIlxuICAjIHJvdXRlICAgPSAnL3RtcC9ta3RzL2luZGV4Lmh0bWwnXG4gICMgbmpzX2ZzLndyaXRlRmlsZVN5bmMgcm91dGUsICggJCAnaHRtbCcgKS5vdXRlckhUTUwoKVxuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbk1LVFMub3Blbl9wcmludF9wcmV2aWV3ID0gKCBtZSApIC0+XG4gICMjIyBOQiB0aGUgc29sdXRpb24gYWRvcHRlZCBoZXJlIHRvIGdldCBhIHF1aWNrIHNob3J0Y3V0IHRvIG9wZW4gYSBwcmludCBwcmV2aWV3IG9mIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gIHVzaW5nIEFwcGxlU2NyaXB0IHNlbmRpbmcga2V5cyBldGMuIGlzIGRlZXBseSBmbGF3ZWQuIE5vdCBvbmx5IG11c3QgdGFiYmluZyBiZSBlbmFibGVkIGluIHRoZVxuICBBY2Nlc3NpYmlsaXR5IFNldHRpbmdzIG9mIHRoZSB0YXJnZXQgbWFjaGluZSwgaXQgd291bGQgYWxzbyBhcHBlYXIgdGhhdCB0aGUgb3V0Y29tZSBvZiBzdWNoIGFjdGlvbnMgYXNcbiAgYGNsaWNrIG1lbnUgYnV0dG9uIFwiUERGXCIgb2Ygd2luZG93IFwiUHJpbnRcImAgYXJlIGRlcGVuZGVudCBvbiB0aGUgT1MgbGFuZ3VhZ2Ugc2V0dGluZ3MsIGFuZCBtYXliZSBldmVuXG4gIE9TIHZlcnNpb24uIExhc3QgYnV0IG5vdCBsZWFzdCwgaXQgY2FuIGV4cGVyaW1lbnRhbGx5IGJlIG1hZGUgcGxhdXNpYmxlIHRoYXQgaXQgaXMgdGhlIGByZXBlYXRgIGxvb3BzXG4gIG9mIHRoZSAqcHJldmlvdXMqIChub3QgdGhlICpjdXJyZW50Kikgc2NyaXB0IGV4ZWN1dGlvbiB0aGF0IHJlYWxseSB0cmlnZ2VyIHRoZSBhY3Rpb25zLCB3aGljaCBpc1xuICBkZWVwbHkgdW5zYXRpc2Z5aW5nIGFuZCBmZWVscyBwbGFpbiB3cm9uZy4gRnVydGhlcm1vcmUsIGhhcGhhemFyZCB1c2VyIGFjdGlvbnMgc3VjaCBhcyBoaXR0aW5nIGEga2V5XG4gIG9yIGNsaWNraW5nIGR1cmluZyBzY3JpcHQgZXhlY3V0aW9uIG1heSBwcm9iYWJseSBtZWRkbGUgd2l0aCB0aGUgaW50ZW5kZWQgZmxvdyBvZiBldmVudHMuIEluIHNob3J0LCB0aGVcbiAgc29sdXRpb24gYXMgaW1wbGVtZW50ZWQgaXMgbm90aGluZyBtb3JlIHRoYW4gYSBjcnVkZSBzdG9wLWdhcC4gIyMjXG4gIGhlbHAgXCJNS1RTLm9wZW5fcHJpbnRfcHJldmlld1wiXG4gICMgQHN3aXRjaF90b19wcmludF92aWV3IG1lXG4gIE1LVFMub3Blbl9wcmludF9kaWFsb2coKVxuICAjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICMgc2NyaXB0ID0gXCJcIlwiXG4gICMgICB0ZWxsIGFwcGxpY2F0aW9uIFwiU3lzdGVtIEV2ZW50c1wiXG4gICMgICAgIHRlbGwgcHJvY2VzcyBcIm1pbmdrd2FpXCJcbiAgIyAgICAgICBrZXlzdHJva2UgXCJwXCIgdXNpbmcge3NoaWZ0IGRvd24sIGNvbW1hbmQgZG93bn1cbiAgIyAgICAgICByZXBlYXQgdW50aWwgZXhpc3RzIHdpbmRvdyBcIlByaW50XCJcbiAgIyAgICAgICBlbmQgcmVwZWF0XG4gICMgICAgICAgY2xpY2sgbWVudSBidXR0b24gXCJQREZcIiBvZiB3aW5kb3cgXCJQcmludFwiXG4gICMgICAgICAgcmVwZWF0IHVudGlsIGV4aXN0cyBtZW51IGl0ZW0gXCJPcGVuIFBERiBpbiBQcmV2aWV3XCIgb2YgbWVudSAxIG9mIG1lbnUgYnV0dG9uIFwiUERGXCIgb2Ygd2luZG93IFwiUHJpbnRcIlxuICAjICAgICAgIGVuZCByZXBlYXRcbiAgIyAgICAgICBjbGljayBtZW51IGl0ZW0gXCJPcGVuIFBERiBpbiBQcmV2aWV3XCIgb2YgbWVudSAxIG9mIG1lbnUgYnV0dG9uIFwiUERGXCIgb2Ygd2luZG93IFwiUHJpbnRcIlxuICAjICAgICBlbmQgdGVsbFxuICAjICAgZW5kIHRlbGxcbiAgIyAgIFwiXCJcIlxuICAjIHNjcmlwdCA9IFwiXCJcIlxuICAjICAgbG9jYWwgaGFzV2luZG93UHJpbnRcbiAgIyAgIGxvY2FsIGhhc09wZW5JblByZXZpZXdcbiAgIyAgIHNldCBoYXNXaW5kb3dQcmludCAgICB0byBmYWxzZVxuICAjICAgc2V0IGhhc09wZW5JblByZXZpZXcgIHRvIGZhbHNlXG4gICMgICB0ZWxsIGFwcGxpY2F0aW9uIFwiU3lzdGVtIEV2ZW50c1wiXG4gICMgICAgIHRlbGwgcHJvY2VzcyBcIm1pbmdrd2FpXCJcbiAgIyAgICAgICBrZXlzdHJva2UgXCJwXCIgdXNpbmcge3NoaWZ0IGRvd24sIGNvbW1hbmQgZG93bn1cbiAgIyAgICAgICByZXBlYXQgMyB0aW1lc1xuICAjICAgICAgICAgc2F5IFwidHJ5aW5nIHRvIGZpbmQgcHJpbnQgd2luZG93XCIgdXNpbmcgXCJQaXBlIE9yZ2FuXCJcbiAgIyAgICAgICAgIGlmIGV4aXN0cyB3aW5kb3cgXCJQcmludFwiIHRoZW5cbiAgIyAgICAgICAgICAgc2V0IGhhc1dpbmRvd1ByaW50IHRvIHRydWVcbiAgIyAgICAgICAgICAgZXhpdCByZXBlYXRcbiAgIyAgICAgICAgIGVuZCBpZlxuICAjICAgICAgICAgZGVsYXkgMC41XG4gICMgICAgICAgZW5kIHJlcGVhdFxuICAjICAgICAgIGlmIGhhc1dpbmRvd1ByaW50IHRoZW5cbiAgIyAgICAgICAgIGNsaWNrIG1lbnUgYnV0dG9uIFwiUERGXCIgb2Ygd2luZG93IFwiUHJpbnRcIlxuICAjICAgICAgICAgcmVwZWF0IDMgdGltZXNcbiAgIyAgICAgICAgICAgc2F5IFwidHJ5aW5nIHRvIG9wZW4gaW4gcHJldmlld1wiIHVzaW5nIFwiUGlwZSBPcmdhblwiXG4gICMgICAgICAgICAgIGlmIGV4aXN0cyBtZW51IGl0ZW0gXCJPcGVuIFBERiBpbiBQcmV2aWV3XCIgb2YgbWVudSAxIG9mIG1lbnUgYnV0dG9uIFwiUERGXCIgb2Ygd2luZG93IFwiUHJpbnRcIiB0aGVuXG4gICMgICAgICAgICAgICAgc2V0IGhhc09wZW5JblByZXZpZXcgdG8gdHJ1ZVxuICAjICAgICAgICAgICAgIGV4aXQgcmVwZWF0XG4gICMgICAgICAgICAgIGVuZCBpZlxuICAjICAgICAgICAgICBkZWxheSAwLjVcbiAgIyAgICAgICAgIGVuZCByZXBlYXRcbiAgIyAgICAgICAgIGlmIGhhc09wZW5JblByZXZpZXcgdGhlblxuICAjICAgICAgICAgICBjbGljayBtZW51IGl0ZW0gXCJPcGVuIFBERiBpbiBQcmV2aWV3XCIgb2YgbWVudSAxIG9mIG1lbnUgYnV0dG9uIFwiUERGXCIgb2Ygd2luZG93IFwiUHJpbnRcIlxuICAjICAgICAgICAgZW5kIGlmXG4gICMgICAgICAgZW5kIGlmXG4gICMgICAgIGVuZCB0ZWxsXG4gICMgICBlbmQgdGVsbFxuICAjICAgaWYgaGFzV2luZG93UHJpbnQgYW5kIGhhc09wZW5JblByZXZpZXcgdGhlblxuICAjICAgICBzYXkgXCJlbmpveVwiIHVzaW5nIFwiR29vZCBOZXdzXCJcbiAgIyAgIGVsc2VcbiAgIyAgICAgc2F5IFwiaSdtIHNvcnJ5XCIgdXNpbmcgXCJHb29kIE5ld3NcIlxuICAjICAgZW5kIGlmXG4gICMgICBcIlwiXCJcbiAgIyBzY3JpcHQgPSBcIlwiXCJcbiAgIyAgIHRlbGwgYXBwbGljYXRpb24gXCJTeXN0ZW0gRXZlbnRzXCJcbiAgIyAgICAgdGVsbCBwcm9jZXNzIFwibWluZ2t3YWlcIlxuICAjICAgICAgIGtleXN0cm9rZSBcInBcIiB1c2luZyB7c2hpZnQgZG93biwgY29tbWFuZCBkb3dufVxuICAjICAgICBlbmQgdGVsbFxuICAjICAgZW5kIHRlbGxcbiAgIyAgIGRlbGF5IDAuNVxuICAjICAgdGVsbCBhcHBsaWNhdGlvbiBcIlN5c3RlbSBFdmVudHNcIlxuICAjICAgICAtLSB0ZWxsIHByb2Nlc3MgXCJtaW5na3dhaVwiXG4gICMgICAgICAgY2xpY2sgbWVudSBidXR0b24gXCJQREZcIiBvZiB3aW5kb3cgXCJQcmludFwiXG4gICMgICAgIC0tIGVuZCB0ZWxsXG4gICMgICBlbmQgdGVsbFxuICAjICAgZGVsYXkgMC41XG4gICMgICB0ZWxsIGFwcGxpY2F0aW9uIFwiU3lzdGVtIEV2ZW50c1wiXG4gICMgICAgIC0tIHRlbGwgcHJvY2VzcyBcIm1pbmdrd2FpXCJcbiAgIyAgICAgICBjbGljayBtZW51IGl0ZW0gXCJPcGVuIFBERiBpbiBQcmV2aWV3XCIgb2YgbWVudSAxIG9mIG1lbnUgYnV0dG9uIFwiUERGXCIgb2Ygd2luZG93IFwiUHJpbnRcIlxuICAjICAgICAtLSBlbmQgdGVsbFxuICAjICAgZW5kIHRlbGxcbiAgIyAgIFwiXCJcIlxuICAjIHNjcmlwdCA9IFwiXCJcIlxuICAjICAgdGVsbCBhcHBsaWNhdGlvbiBcIlN5c3RlbSBFdmVudHNcIlxuICAjICAgICB0ZWxsIHByb2Nlc3MgXCJtaW5na3dhaVwiXG4gICMgICAgICAga2V5c3Ryb2tlIFwicFwiIHVzaW5nIHtzaGlmdCBkb3duLCBjb21tYW5kIGRvd259XG4gICMgICAgICAgY2xpY2sgbWVudSBidXR0b24gXCJQREZcIiBvZiB3aW5kb3cgXCJQcmludFwiXG4gICMgICAgICAgY2xpY2sgbWVudSBpdGVtIFwiT3BlbiBQREYgaW4gUHJldmlld1wiIG9mIG1lbnUgMSBvZiBtZW51IGJ1dHRvbiBcIlBERlwiIG9mIHdpbmRvdyBcIlByaW50XCJcbiAgIyAgICAgZW5kIHRlbGxcbiAgIyAgIGVuZCB0ZWxsXG4gICMgICBcIlwiXCJcbiAgICAgICMgdGVsbCBwcm9jZXNzIFwiUHJldmlld1wiXG4gICAgICAjICAgcmVwZWF0IHVudGlsIGV4aXN0cyB3aW5kb3cgXCJQcmV2aWV3XCJcbiAgICAgICMgICBlbmQgcmVwZWF0XG4gICAgICAjICAga2V5IGNvZGUgNDggdXNpbmcge3NoaWZ0IGRvd259XG4gICAgICAjICAga2V5IGNvZGUgNDggdXNpbmcge3NoaWZ0IGRvd259XG4gICAgICAjIGVuZCB0ZWxsXG4gICAgICAjIHRlbGwgcHJvY2VzcyBcIlByZXZpZXdcIlxuICAgICAgIyAgIGtleXN0cm9rZSBcInBcIiB1c2luZyB7c2hpZnQgZG93biwgY29tbWFuZCBkb3dufVxuICAgICAgIyBlbmQgdGVsbFxuICAjIyMgdGh4IHRvIGh0dHA6Ly9hcHBsZS5zdGFja2V4Y2hhbmdlLmNvbS9hLzM2OTQ3LzU5ODk1LCBodHRwOi8vd3d3LmphaW1lcmlvcy5jb20vP3A9MTcxICMjI1xuICAjIyMgVEFJTlQgTm90ZSB0aGUgZGVsYXkgY2xhdXNlcy4gU2luY2UgaXQgaXMgdGhlIHByZXZpb3VzIGV4ZWN1dGlvbiBvZiB0aGUgc2NyaXB0IHRoYXQgdGFrZXMgdGhlIGludGVuZGVkXG4gIGFjdGlvbnMsIGVhY2ggc2NyaXB0IGludm9jYXRpb24gd2lsbCBydW4gaW5kZWZpbml0ZWx5LCBldmVuIGFmdGVyIHRoZSBhcHAgcHJvY2VzcyBpdHNlbGYgaGFzIGJlZW5cbiAgdGVybWluYXRlZC4gUHJvZ3JhbW1pbmcgYSBUaWdodCBMb29wIGluIEFwcGxlU2NyaXB0IHdpbGwgY2F1c2UgYSBub3RpY2VhYmxlIENQVSBsb2FkIHdoaWNoIGlzIHJlZHVjZWRcbiAgdG8gdGhlIHBlcm1pbGxlIGxldmVsIGJ5IHRoZSB0aW1lb3V0LiBBcyBzdGF0ZWQgYWJvdmUsIHRoaXMgaXMgbm90aGluZyBtb3JlIHRoYW4gYSBzdG9wLWdhcCBzb2x1dGlvbi4gIyMjXG4gIHNjcmlwdCA9IFwiXCJcIlxuICAgIHRlbGwgYXBwbGljYXRpb24gXCJTeXN0ZW0gRXZlbnRzXCJcbiAgICAgIHRlbGwgcHJvY2VzcyBcIm1pbmdrd2FpXCJcbiAgICAgICAga2V5c3Ryb2tlIFwicFwiIHVzaW5nIHtzaGlmdCBkb3duLCBjb21tYW5kIGRvd259XG4gICAgICAgIHJlcGVhdCB1bnRpbCBleGlzdHMgd2luZG93IFwiUHJpbnRcIlxuICAgICAgICAgIGRlbGF5IDAuMVxuICAgICAgICBlbmQgcmVwZWF0XG4gICAgICAgIGNsaWNrIG1lbnUgYnV0dG9uIFwiUERGXCIgb2Ygd2luZG93IFwiUHJpbnRcIlxuICAgICAgICByZXBlYXQgdW50aWwgZXhpc3RzIG1lbnUgaXRlbSBcIk9wZW4gUERGIGluIFByZXZpZXdcIiBvZiBtZW51IDEgb2YgbWVudSBidXR0b24gXCJQREZcIiBvZiB3aW5kb3cgXCJQcmludFwiXG4gICAgICAgICAgZGVsYXkgMC4xXG4gICAgICAgIGVuZCByZXBlYXRcbiAgICAgICAgY2xpY2sgbWVudSBpdGVtIFwiT3BlbiBQREYgaW4gUHJldmlld1wiIG9mIG1lbnUgMSBvZiBtZW51IGJ1dHRvbiBcIlBERlwiIG9mIHdpbmRvdyBcIlByaW50XCJcbiAgICAgIGVuZCB0ZWxsXG4gICAgZW5kIHRlbGxcbiAgICBcIlwiXCJcbiAgIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICBBUFBMRVNDUklQVC5leGVjU3RyaW5nIHNjcmlwdCwgKCBlcnJvciApID0+XG4gICAgdGhyb3cgZXJyb3IgaWYgZXJyb3I/XG4gICAgIyBAc3dpdGNoX3RvX2Rldl92aWV3IG1lXG4gICAgaGVscCBcIk1LVFMub3Blbl9wcmludF9wcmV2aWV3OiBva1wiXG5cblxuIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jIEFDVElPTlNcbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQEFDVElPTlMgPSB7fVxuXG5AQUNUSU9OU1sgJ2RlbW8nIF1cbkBBQ1RJT05TWyAnZGVtby0xJyBdXG5AQUNUSU9OU1sgJ3ByaW50JyBdXG5AQUNUSU9OU1sgJ3ByaW50LXByZXZpZXcnIF1cbkBBQ1RJT05TWyAnb3BlbicgXVxuQEFDVElPTlNbICdzYXZlJyBdXG5AQUNUSU9OU1sgJ3NhdmUtYXMnIF1cblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AQUNUSU9OU1sgJ3ZpZXctdGVzdCcgXSA9ID0+XG4gIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy4vdGVzdC5odG1sJ1xuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBBQ1RJT05TWyAndG9vbC1tb2RlLWhhbmQnIF0gPSA9PlxuICBAcHVzaF90b29sX21vZGUgJ2hhbmQnXG5cblxuIl19