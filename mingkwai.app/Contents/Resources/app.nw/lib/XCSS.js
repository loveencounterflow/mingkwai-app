(function() {
  var CND, badge, debug, help, info, rpr, warn, xcss_rules;

  CND = require('cnd');

  rpr = CND.rpr;

  badge = 'MKTS/mingkwai-styles-fix';

  warn = CND.get_logger('warn', badge);

  help = CND.get_logger('help', badge);

  debug = CND.get_logger('debug', badge);

  info = CND.get_logger('info', badge);

  xcss_rules = require('./xcss-rules');

  this.rules_from_node = function(app, node) {
    var R, i, idx, idxs, len, property, ref, rules, selector, selectors, value;
    if (node.length !== 1) {
      throw new Error("argument `node` must contain single element, has " + node.length);
    }
    R = {};
    selectors = xcss_rules['%selectors'], rules = xcss_rules.rules;

    /* TAINT selectors not properly ordered */
    for (selector in selectors) {
      idxs = selectors[selector];
      if (!node.is(selector)) {
        continue;
      }
      for (i = 0, len = idxs.length; i < len; i++) {
        idx = idxs[i];
        ref = rules[idx], property = ref.property, value = ref.value;
        R[property] = value;
      }
    }
    return R;
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlhDU1MuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BO0FBQUEsTUFBQTs7RUFBQSxHQUFBLEdBQTRCLE9BQUEsQ0FBUSxLQUFSOztFQUM1QixHQUFBLEdBQTRCLEdBQUcsQ0FBQzs7RUFDaEMsS0FBQSxHQUE0Qjs7RUFDNUIsSUFBQSxHQUE0QixHQUFHLENBQUMsVUFBSixDQUFlLE1BQWYsRUFBMEIsS0FBMUI7O0VBQzVCLElBQUEsR0FBNEIsR0FBRyxDQUFDLFVBQUosQ0FBZSxNQUFmLEVBQTBCLEtBQTFCOztFQUM1QixLQUFBLEdBQTRCLEdBQUcsQ0FBQyxVQUFKLENBQWUsT0FBZixFQUEyQixLQUEzQjs7RUFDNUIsSUFBQSxHQUE0QixHQUFHLENBQUMsVUFBSixDQUFlLE1BQWYsRUFBMEIsS0FBMUI7O0VBRTVCLFVBQUEsR0FBNEIsT0FBQSxDQUFRLGNBQVI7O0VBRzVCLElBQUMsQ0FBQSxlQUFELEdBQW1CLFNBQUUsR0FBRixFQUFPLElBQVA7QUFDakIsUUFBQTtJQUFBLElBQU8sSUFBSSxDQUFDLE1BQUwsS0FBZSxDQUF0QjtBQUNFLFlBQVUsSUFBQSxLQUFBLENBQU0sbURBQUEsR0FBb0QsSUFBSSxDQUFDLE1BQS9ELEVBRFo7O0lBRUEsQ0FBQSxHQUFzQztJQUN0Qix1QkFBZCxhQUFGLEVBQTJCLG1CQUFBOztBQUUzQjtBQUNBLFNBQUEscUJBQUE7O01BRUUsSUFBQSxDQUFnQixJQUFJLENBQUMsRUFBTCxDQUFRLFFBQVIsQ0FBaEI7QUFBQSxpQkFBQTs7QUFDQSxXQUFBLHNDQUFBOztRQUNFLE1BQXdCLEtBQU8sQ0FBQSxHQUFBLENBQS9CLEVBQUUsZUFBQSxRQUFGLEVBQVksWUFBQTtRQUNaLENBQUcsQ0FBQSxRQUFBLENBQUgsR0FBd0I7QUFGMUI7QUFIRjtBQU9BLFdBQU87RUFkVTtBQVhuQiIsImZpbGUiOiJYQ1NTLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiXG5cbiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuIyBuanNfcGF0aCAgICAgICAgICAgICAgICAgID0gcmVxdWlyZSAncGF0aCdcbiMgbmpzX2ZzICAgICAgICAgICAgICAgICAgICA9IHJlcXVpcmUgJ2ZzLWV4dHJhJ1xuIyBqb2luICAgICAgICAgICAgICAgICAgICAgID0gbmpzX3BhdGguam9pblxuIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG5DTkQgICAgICAgICAgICAgICAgICAgICAgID0gcmVxdWlyZSAnY25kJ1xucnByICAgICAgICAgICAgICAgICAgICAgICA9IENORC5ycHJcbmJhZGdlICAgICAgICAgICAgICAgICAgICAgPSAnTUtUUy9taW5na3dhaS1zdHlsZXMtZml4J1xud2FybiAgICAgICAgICAgICAgICAgICAgICA9IENORC5nZXRfbG9nZ2VyICd3YXJuJywgICAgYmFkZ2VcbmhlbHAgICAgICAgICAgICAgICAgICAgICAgPSBDTkQuZ2V0X2xvZ2dlciAnaGVscCcsICAgIGJhZGdlXG5kZWJ1ZyAgICAgICAgICAgICAgICAgICAgID0gQ05ELmdldF9sb2dnZXIgJ2RlYnVnJywgICAgYmFkZ2VcbmluZm8gICAgICAgICAgICAgICAgICAgICAgPSBDTkQuZ2V0X2xvZ2dlciAnaW5mbycsICAgIGJhZGdlXG4jLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbnhjc3NfcnVsZXMgICAgICAgICAgICAgICAgPSByZXF1aXJlICcuL3hjc3MtcnVsZXMnXG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQHJ1bGVzX2Zyb21fbm9kZSA9ICggYXBwLCBub2RlICkgLT5cbiAgdW5sZXNzIG5vZGUubGVuZ3RoIGlzIDFcbiAgICB0aHJvdyBuZXcgRXJyb3IgXCJhcmd1bWVudCBgbm9kZWAgbXVzdCBjb250YWluIHNpbmdsZSBlbGVtZW50LCBoYXMgI3tub2RlLmxlbmd0aH1cIlxuICBSICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IHt9XG4gIHsgJyVzZWxlY3RvcnMnOiBzZWxlY3RvcnMsIHJ1bGVzIH0gID0geGNzc19ydWxlc1xuICAjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICMjIyBUQUlOVCBzZWxlY3RvcnMgbm90IHByb3Blcmx5IG9yZGVyZWQgIyMjXG4gIGZvciBzZWxlY3RvciwgaWR4cyBvZiBzZWxlY3RvcnNcbiAgICAjIGRlYnVnICfCqXZiV29TJywgc2VsZWN0b3IsIG5vZGUuaXMgc2VsZWN0b3JcbiAgICBjb250aW51ZSB1bmxlc3Mgbm9kZS5pcyBzZWxlY3RvclxuICAgIGZvciBpZHggaW4gaWR4c1xuICAgICAgeyBwcm9wZXJ0eSwgdmFsdWUsIH0gID0gcnVsZXNbIGlkeCBdXG4gICAgICBSWyBwcm9wZXJ0eSBdICAgICAgICAgPSB2YWx1ZVxuICAjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gIHJldHVybiBSXG5cblxuXG5cblxuXG4iXX0=